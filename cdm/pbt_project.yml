name: waterfall_cdm
description: ''
version: 0.0.4
author: tanmay@prophecy.io
language: sql
buildSystem: ''
buildSystemDetails: null
pipelines: {}
datasets: {}
templates: {}
jobs: {}
gemContainer:
  languageVersion: ''
  gemLibsVersion: ''
  gems: {}
  dependencies: null
functions:
  author: null
  createdAt: '2025-11-30 12:04:14'
  udfs: {}
  udafs: {}
  expressions: {}
  airflowFunctions: {}
  businessRules: {}
subgraphs: {}
sqlModels: {}
sqlSnapshots: {}
sqlTests: {}
sqlMacros:
  .prophecy/metadata/sqlmacros/generate_schema_name:
    name: generate_schema_name
    macroType: expression
    description: null
    author: tanmay@prophecy.io
    files:
    - macros/generate_schema_name.sql
    - .prophecy/ide/macros/generate_schema_name.json
    createdAt: '2025-11-30 12:04:19'
  .prophecy/metadata/sqlmacros/prophecy_tmp_source:
    name: prophecy_tmp_source
    macroType: expression
    description: null
    author: tanmay@prophecy.io
    files:
    - macros/prophecy_tmp_source.sql
    - .prophecy/ide/macros/prophecy_tmp_source.json
    createdAt: '2025-11-30 12:04:41'
sqlSeeds: {}
sqlSources:
  .prophecy/metadata/sqlsources/waterfall_harmonizer_cdm1:
    name: waterfall_harmonizer_cdm1
    description: null
    author: tanmay@prophecy.io
    files:
    - prophecy-sources/sources.yml
    createdAt: '2025-12-03 03:53:27'
    tables:
    - name: all_cols
      schema:
        entityType: ''
        providerType: databricks
        fields:
        - name: 4506T Flag
          dataType:
            type: Boolean
        - name: ARM Index
          dataType:
            type: String
        - name: ARM Initial Fixed Rate Period
          dataType:
            type: Integer
        - name: ARM Initial Rate Adj Cap
          dataType:
            type: Integer
        - name: ARM Lookback Days
          dataType:
            type: Integer
        - name: ARM Margin
          dataType:
            type: Integer
        - name: ARM Max Rate
          dataType:
            type: Integer
        - name: ARM Min Rate
          dataType:
            type: Integer
        - name: ARM Periodic Cap
          dataType:
            type: Integer
        - name: ARM Rate Adj Frequency
          dataType:
            type: Integer
        - name: ARM Round Factor
          dataType:
            type: Integer
        - name: ARM Round Flag
          dataType:
            type: Boolean
        - name: As Of Date
          dataType:
            type: Date
        - name: BPO Date
          dataType:
            type: Date
        - name: BPO Value
          dataType:
            type: Float
        - name: Borr 1 Asset Verification
          dataType:
            type: String
        - name: Borr 1 Credit Score
          dataType:
            type: Integer
        - name: Borr 1 Credit Score Date
          dataType:
            type: Date
        - name: Borr 1 Employment Verification
          dataType:
            type: String
        - name: Borr 1 Income Verification
          dataType:
            type: String
        - name: Borr 1 Length of Employment
          dataType:
            type: Integer
        - name: Borr 1 Other Income
          dataType:
            type: Integer
        - name: Borr 1 Residency Status
          dataType:
            type: String
        - name: Borr 1 Wage Income
          dataType:
            type: Integer
        - name: Borr 2 Asset Verification
          dataType:
            type: String
        - name: Borr 2 Credit Score
          dataType:
            type: Integer
        - name: Borr 2 Employment Verification
          dataType:
            type: String
        - name: Borr 2 Income Verification
          dataType:
            type: String
        - name: Borr 2 Length of Employment
          dataType:
            type: Integer
        - name: Borr 2 Other Income
          dataType:
            type: Integer
        - name: Borr 2 Residency Status
          dataType:
            type: String
        - name: Borr 2 Wage Income
          dataType:
            type: Integer
        - name: Broker Flag
          dataType:
            type: Boolean
        - name: Buydown Period
          dataType:
            type: Integer
        - name: 'CRE Financials: UW DSCR (NOI)'
          dataType:
            type: Integer
        - name: Cash Out Amount
          dataType:
            type: Float
        - name: Credit Line Usage Ratio
          dataType:
            type: Integer
        - name: 'Credit: Longest Trade Line'
          dataType:
            type: Integer
        - name: 'Credit: Maximum Trade Line'
          dataType:
            type: Float
        - name: 'Credit: Number of Trade Lines'
          dataType:
            type: Integer
        - name: Curr Balloon Flag
          dataType:
            type: Boolean
        - name: Curr CLTV
          dataType:
            type: Integer
        - name: Curr LTV
          dataType:
            type: Integer
        - name: Curr Loan Balance
          dataType:
            type: Float
        - name: Curr Loan Interest Rate
          dataType:
            type: Integer
        - name: Curr Occupancy Status
          dataType:
            type: String
        - name: Curr PI Payment
          dataType:
            type: Float
        - name: Curr Payment Paid Thru Date
          dataType:
            type: Date
        - name: Curr Servicer Delinquency Status
          dataType:
            type: String
        - name: Current FICO
          dataType:
            type: Integer
        - name: Current FICO Date
          dataType:
            type: Date
        - name: Current Other Payment
          dataType:
            type: Float
        - name: Current Payment Amount Due
          dataType:
            type: Float
        - name: 'DD: Compliance Event Grade'
          dataType:
            type: String
        - name: 'DD: Credit Event Grade'
          dataType:
            type: String
        - name: 'DD: Overall Grade'
          dataType:
            type: String
        - name: 'DD: Property Event Grade'
          dataType:
            type: String
        - name: DTI Ratio
          dataType:
            type: Integer
        - name: Doc Type
          dataType:
            type: String
        - name: Escrow Advance Balance
          dataType:
            type: Float
        - name: Escrow Flag
          dataType:
            type: Boolean
        - name: 'Financing: Advance Rate'
          dataType:
            type: Integer
        - name: First-time Home Buyer
          dataType:
            type: Boolean
        - name: Forbearance Type
          dataType:
            type: String
        - name: High Cost Flag
          dataType:
            type: Boolean
        - name: Init Fixed Payment Period
          dataType:
            type: Integer
        - name: Init Min Payment
          dataType:
            type: Integer
        - name: Init NegAm Recast Period
          dataType:
            type: Integer
        - name: Init Periodic Pay Cap
          dataType:
            type: Integer
        - name: LOC Draw Period
          dataType:
            type: Integer
        - name: Lien Position
          dataType:
            type: String
        - name: Line of Credit Flag
          dataType:
            type: Boolean
        - name: Liquid / Cash Reserves
          dataType:
            type: Float
        - name: Loan Purpose
          dataType:
            type: String
        - name: MI Cert Num
          dataType:
            type: String
        - name: MI Company
          dataType:
            type: String
        - name: MI Coverage Pct
          dataType:
            type: Integer
        - name: Mod Capitalized Amount
          dataType:
            type: Float
        - name: Mod Deferred Amount
          dataType:
            type: Float
        - name: Modification Flag
          dataType:
            type: Boolean
        - name: Monthly Debt All Borrowers
          dataType:
            type: Float
        - name: Months Since BK Discharge
          dataType:
            type: Integer
        - name: Months Since FC Sale
          dataType:
            type: Integer
        - name: NegAm Limit
          dataType:
            type: Integer
        - name: Number Of Properties
          dataType:
            type: Integer
        - name: Number of Borrowers
          dataType:
            type: Integer
        - name: OptionARM Flag
          dataType:
            type: Boolean
        - name: Orig Amortization Term
          dataType:
            type: Integer
        - name: Orig Amortization Type
          dataType:
            type: String
        - name: Orig Appraisal Date
          dataType:
            type: Date
        - name: Orig Appraisal Value
          dataType:
            type: Float
        - name: Orig CLTV
          dataType:
            type: Integer
        - name: Orig Channel
          dataType:
            type: String
        - name: Orig First Payment Date
          dataType:
            type: Date
        - name: Orig Interest Only Term
          dataType:
            type: Integer
        - name: Orig Junior Loan Amount
          dataType:
            type: Float
        - name: Orig LTV
          dataType:
            type: Integer
        - name: Orig Loan Amount
          dataType:
            type: Float
        - name: Orig Loan Interest Rate
          dataType:
            type: Integer
        - name: Orig Loan Maturity Date
          dataType:
            type: Date
        - name: Orig Loan Term
          dataType:
            type: Integer
        - name: Orig Pledged Assets
          dataType:
            type: Integer
        - name: Orig Sales Price
          dataType:
            type: Float
        - name: Original FICO
          dataType:
            type: Integer
        - name: Original FICO Date
          dataType:
            type: Date
        - name: Origination Discount Points ($)
          dataType:
            type: Float
        - name: Origination Note Date
          dataType:
            type: Date
        - name: Originator Loan Grade
          dataType:
            type: String
        - name: Originator Name
          dataType:
            type: String
        - name: Originator Program
          dataType:
            type: String
        - name: Pay History 12 Mths
          dataType:
            type: String
        - name: Pay History 24 Mths
          dataType:
            type: String
        - name: Pay History Current for 24
          dataType:
            type: Boolean
        - name: Prepayment Penalty Description
          dataType:
            type: String
        - name: Prepayment Penalty Hard Term
          dataType:
            type: Integer
        - name: Prepayment Penalty Period
          dataType:
            type: Integer
        - name: Property City
          dataType:
            type: String
        - name: Property State
          dataType:
            type: String
        - name: Property Type
          dataType:
            type: String
        - name: Property Zip
          dataType:
            type: String
        - name: QM Status
          dataType:
            type: String
        - name: Qualification Method
          dataType:
            type: String
        - name: Rate Type
          dataType:
            type: String
        - name: Relocation Flag
          dataType:
            type: Boolean
        - name: Remaining Prepayment Penalty Period
          dataType:
            type: Integer
        - name: Self-Employment Flag
          dataType:
            type: Boolean
        - name: Seller
          dataType:
            type: String
        - name: Seller Loan ID
          dataType:
            type: String
        - name: Seller Product Type
          dataType:
            type: String
        - name: Senior Lien Current Balance
          dataType:
            type: Float
        - name: Senior Lien Hybrid Period
          dataType:
            type: Integer
        - name: Senior Lien Loan Type
          dataType:
            type: String
        - name: Senior Lien Neg Am Limit
          dataType:
            type: Integer
        - name: Senior Lien Original Balance
          dataType:
            type: Float
        - name: Servicer Name
          dataType:
            type: String
        - name: Short Term Rental Flag
          dataType:
            type: Boolean
        - name: Subseq NegAm Recast Period
          dataType:
            type: Integer
        - name: Subseq Payment Reset Period
          dataType:
            type: Integer
        - name: Subseq Periodic Pay Cap
          dataType:
            type: Integer
        - name: Svc Advance Method
          dataType:
            type: String
        - name: Svc Fee Amt ($)
          dataType:
            type: Integer
        - name: Svc Fee Rate (%)
          dataType:
            type: Integer
        - name: Total Combined Monthly Income
          dataType:
            type: Float
        - name: Total Combined Wage Income
          dataType:
            type: Integer
        - name: Years in Home
          dataType:
            type: Integer
      description: null
      author: tanmay@prophecy.io
      createdAt: '2025-12-03 03:53:27'
      tableType: table
sqlUnreferencedSources: {}
sqlPipeline:
  name: sqlPipeline
  description: null
  author: tanmay@prophecy.io
  createdAt: '2025-11-30 12:04:14'
dependencies: []
projectDependencies: {}
flags:
  shouldAddDefaultDependenciesIfAbsent: true
pipelineConfigurations: {}
projectConfigurations: {}
sqlOrchestratorPipelines:
  .prophecy/metadata/sqlorchestratorpipeline/cdm_pipe_waterfall:
    name: cdm_pipe_waterfall
    schema: null
    description: null
    author: tanmay@prophecy.io
    files:
    - .prophecy/ide/pipelines/cdm_pipe_waterfall.json
    - pipelines/cdm_pipe_waterfall.py
    createdAt: '2025-11-30 12:04:41'
  .prophecy/metadata/sqlorchestratorpipeline/ref_pipe_waterfall:
    name: ref_pipe_waterfall
    schema: null
    description: null
    author: tanmay@prophecy.io
    files:
    - pipelines/ref_pipe_waterfall.py
    - .prophecy/ide/pipelines/ref_pipe_waterfall.json
    createdAt: '2025-11-30 14:24:41'
sqlBusinessApps: {}
